{"version":3,"sources":["webpack:///webpack/bootstrap 1af3140f13c6fcbcc259","webpack:///external \"express\"","webpack:///./node_modules/babel-runtime/regenerator/index.js","webpack:///external \"axios\"","webpack:///./server.js","webpack:///external \"nuxt\"","webpack:///./nuxt.config.js","webpack:///external \"regenerator-runtime\"","webpack:///./api/index.js","webpack:///./api/boards.js","webpack:///./api/threads.js","webpack:///./api/posts.js","webpack:///./api/media.js","webpack:///./node_modules/cors/lib/index.js","webpack:///external \"object-assign\"","webpack:///external \"vary\""],"names":["Config","dev","app","Express","port","process","env","PORT","nuxt","options","build","set","use","CORS","render","listen","console","log","axios","require","module","exports","head","title","meta","charset","name","content","link","rel","sizes","href","type","loading","color","router","Router","get","_","res","Axios","next_res","json","data","req","params","board","page","thread","opts","method","responseType","media","url","then","pipe"],"mappings":"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;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qEAAqE;AACrE;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uCAAuC,OAAO;AAC9C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT,qCAAqC;AACrC;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA,CAAC;;;;;;;AC7OD,0C;;;;;;ACAA,iC","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1af3140f13c6fcbcc259","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/regenerator/index.js\n// module id = 1\n// module chunks = 0","module.exports = require(\"axios\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = 2\n// module chunks = 0","import Express from \"express\";\nimport CORS from \"cors\";\nimport { Nuxt, Builder } from \"nuxt\";\nimport Config from \"./nuxt.config.js\";\nimport API from \"./api\";\n\nConfig.dev = !(process.env.NODE_ENV === \"production\");\n\nconst app = Express();\nconst port = process.env.PORT || 3000;\nconst nuxt = new Nuxt(Config);\n\nif (nuxt.options.dev) {\n  new Builder(nuxt).build();\n}\n\napp.set(\"port\", port);\napp.use(CORS());\napp.use(\"/api\", API);\napp.use(nuxt.render);\napp.listen(port, () => console.log(\"\\nServer has started.\\n\"));\n\n\n\n// WEBPACK FOOTER //\n// ./server.js","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 4\n// module chunks = 0","const axios = require(\"axios\");\n\nmodule.exports = {\n  head: {\n    title: \"Turbo Chan\",\n    meta: [\n      { charset: \"utf-8\" },\n      {\n        name: \"viewport\",\n        content:\n          \"width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no\"\n      },\n      { name: \"apple-mobile-web-app-title\", content: \"Turbo Chan\" },\n      { name: \"apple-mobile-web-app-capable\", content: \"yes\" },\n      {\n        name: \"apple-mobile-web-app-status-bar-style\",\n        content: \"black-translucent\"\n      },\n      { name: \"msapplication-TileColor\", content: \"#343442\" },\n      { name: \"msapplication-TileImage\", content: \"/ms-icon-144x144.png\" },\n      { name: \"theme-color\", content: \"#343442\" }\n    ],\n    link: [\n      {\n        rel: \"apple-touch-icon\",\n        sizes: \"57x57\",\n        href: \"/apple-icon-57x57.png\"\n      },\n      {\n        rel: \"apple-touch-icon\",\n        sizes: \"60x60\",\n        href: \"/apple-icon-60x60.png\"\n      },\n      {\n        rel: \"apple-touch-icon\",\n        sizes: \"72x72\",\n        href: \"/apple-icon-72x72.png\"\n      },\n      {\n        rel: \"apple-touch-icon\",\n        sizes: \"76x76\",\n        href: \"/apple-icon-76x76.png\"\n      },\n      {\n        rel: \"apple-touch-icon\",\n        sizes: \"114x114\",\n        href: \"/apple-icon-114x114.png\"\n      },\n      {\n        rel: \"apple-touch-icon\",\n        sizes: \"120x120\",\n        href: \"/apple-icon-120x120.png\"\n      },\n      {\n        rel: \"apple-touch-icon\",\n        sizes: \"144x144\",\n        href: \"/apple-icon-144x144.png\"\n      },\n      {\n        rel: \"apple-touch-icon\",\n        sizes: \"152x152\",\n        href: \"/apple-icon-152x152.png\"\n      },\n      {\n        rel: \"apple-touch-icon\",\n        sizes: \"180x180\",\n        href: \"/apple-icon-180x180.png\"\n      },\n      {\n        rel: \"icon\",\n        type: \"image/png\",\n        sizes: \"192x192\",\n        href: \"/android-icon-192x192.png\"\n      },\n      {\n        rel: \"icon\",\n        type: \"image/png\",\n        sizes: \"32x32\",\n        href: \"/android-icon-32x32.png\"\n      },\n      {\n        rel: \"icon\",\n        type: \"image/png\",\n        sizes: \"96x96\",\n        href: \"/android-icon-96x96.png\"\n      },\n      {\n        rel: \"icon\",\n        type: \"image/png\",\n        sizes: \"16x16\",\n        href: \"/android-icon-16x16.png\"\n      },\n      {\n        rel: \"icon\",\n        type: \"image/png\",\n        sizes: \"TEST\",\n        href: \"/android-icon-192x192.png\"\n      },\n      { rel: \"manifest\", href: \"/manifest.json\" },\n      {\n        rel: \"apple-touch-startup-image\",\n        href: \"/splash.png\"\n      },\n      { rel: \"icon\", type: \"image/x-icon\", href: \"/favicon.ico\" },\n      {\n        rel: \"stylesheet\",\n        href: \"https://fonts.googleapis.com/css?family=Roboto\"\n      }\n    ]\n  },\n  loading: { color: \"transparent\" }\n  // generate: {\n  //   routes: async () => {\n  //     const res = await axios(\"https://a.4cdn.org/boards.json\");\n\n  //     const routes = res.data.boards.map(({ board }) => [\n  //       `/${board}`,\n  //       ...Array.from({ length: 10 }).map((_, i) => `/${board}/${i + 1}`)\n  //     ]);\n\n  //     return routes.reduce((a, b) => [...a, ...b]);\n  //   }\n  // }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js","module.exports = require(\"regenerator-runtime\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"regenerator-runtime\"\n// module id = 7\n// module chunks = 0","import { Router } from \"express\";\nimport Boards from \"./boards\";\nimport Threads from \"./threads\";\nimport Posts from \"./posts\";\nimport Media from \"./media\";\n\nconst router = Router();\nrouter.use(Boards);\nrouter.use(Threads);\nrouter.use(Posts);\nrouter.use(Media);\n\nexport default router;\n\n\n\n// WEBPACK FOOTER //\n// ./api/index.js","import { Router } from \"express\";\nimport Axios from \"axios\";\n\nconst router = Router();\n\nrouter.get(\"/boards\", async (_, res) => {\n  const next_res = await Axios(\"https://a.4cdn.org/boards.json\");\n  res.json(next_res.data);\n});\n\nexport default router;\n\n\n\n// WEBPACK FOOTER //\n// ./api/boards.js","import { Router } from \"express\";\nimport Axios from \"axios\";\n\nconst router = Router();\n\nrouter.get(\"/:board/:page\", async (req, res) => {\n  const { board, page } = req.params;\n  const next_res = await Axios(`https://a.4cdn.org/${board}/${page}.json`);\n  res.json(next_res.data);\n});\n\nexport default router;\n\n\n\n// WEBPACK FOOTER //\n// ./api/threads.js","import { Router } from \"express\";\nimport Axios from \"axios\";\n\nconst router = Router();\n\nrouter.get(\"/:board/thread/:thread\", async (req, res) => {\n  const { board, thread } = req.params;\n  const next_res = await Axios(\n    `https://a.4cdn.org/${board}/thread/${thread}.json`\n  );\n  res.json(next_res.data);\n});\n\nexport default router;\n\n\n\n// WEBPACK FOOTER //\n// ./api/posts.js","import { Router } from \"express\";\nimport Axios from \"axios\";\n\nconst router = Router();\n\nconst opts = {\n  method: \"get\",\n  responseType: \"stream\"\n};\n\nrouter.get(\"/media/:thread/:media\", async (req, res) => {\n  const { thread, media } = req.params;\n  const url = `http://i.4cdn.org/${thread}/${media}`;\n  Axios({ ...opts, url: url }).then(({ data }) => data.pipe(res));\n});\n\nexport default router;\n\n\n\n// WEBPACK FOOTER //\n// ./api/media.js","(function () {\n\n  'use strict';\n\n  var assign = require('object-assign');\n  var vary = require('vary');\n\n  var defaults = {\n      origin: '*',\n      methods: 'GET,HEAD,PUT,PATCH,POST,DELETE',\n      preflightContinue: false,\n      optionsSuccessStatus: 204\n    };\n\n  function isString(s) {\n    return typeof s === 'string' || s instanceof String;\n  }\n\n  function isOriginAllowed(origin, allowedOrigin) {\n    if (Array.isArray(allowedOrigin)) {\n      for (var i = 0; i < allowedOrigin.length; ++i) {\n        if (isOriginAllowed(origin, allowedOrigin[i])) {\n          return true;\n        }\n      }\n      return false;\n    } else if (isString(allowedOrigin)) {\n      return origin === allowedOrigin;\n    } else if (allowedOrigin instanceof RegExp) {\n      return allowedOrigin.test(origin);\n    } else {\n      return !!allowedOrigin;\n    }\n  }\n\n  function configureOrigin(options, req) {\n    var requestOrigin = req.headers.origin,\n      headers = [],\n      isAllowed;\n\n    if (!options.origin || options.origin === '*') {\n      // allow any origin\n      headers.push([{\n        key: 'Access-Control-Allow-Origin',\n        value: '*'\n      }]);\n    } else if (isString(options.origin)) {\n      // fixed origin\n      headers.push([{\n        key: 'Access-Control-Allow-Origin',\n        value: options.origin\n      }]);\n      headers.push([{\n        key: 'Vary',\n        value: 'Origin'\n      }]);\n    } else {\n      isAllowed = isOriginAllowed(requestOrigin, options.origin);\n      // reflect origin\n      headers.push([{\n        key: 'Access-Control-Allow-Origin',\n        value: isAllowed ? requestOrigin : false\n      }]);\n      headers.push([{\n        key: 'Vary',\n        value: 'Origin'\n      }]);\n    }\n\n    return headers;\n  }\n\n  function configureMethods(options) {\n    var methods = options.methods;\n    if (methods.join) {\n      methods = options.methods.join(','); // .methods is an array, so turn it into a string\n    }\n    return {\n      key: 'Access-Control-Allow-Methods',\n      value: methods\n    };\n  }\n\n  function configureCredentials(options) {\n    if (options.credentials === true) {\n      return {\n        key: 'Access-Control-Allow-Credentials',\n        value: 'true'\n      };\n    }\n    return null;\n  }\n\n  function configureAllowedHeaders(options, req) {\n    var allowedHeaders = options.allowedHeaders || options.headers;\n    var headers = [];\n\n    if (!allowedHeaders) {\n      allowedHeaders = req.headers['access-control-request-headers']; // .headers wasn't specified, so reflect the request headers\n      headers.push([{\n        key: 'Vary',\n        value: 'Access-Control-Request-Headers'\n      }]);\n    } else if (allowedHeaders.join) {\n      allowedHeaders = allowedHeaders.join(','); // .headers is an array, so turn it into a string\n    }\n    if (allowedHeaders && allowedHeaders.length) {\n      headers.push([{\n        key: 'Access-Control-Allow-Headers',\n        value: allowedHeaders\n      }]);\n    }\n\n    return headers;\n  }\n\n  function configureExposedHeaders(options) {\n    var headers = options.exposedHeaders;\n    if (!headers) {\n      return null;\n    } else if (headers.join) {\n      headers = headers.join(','); // .headers is an array, so turn it into a string\n    }\n    if (headers && headers.length) {\n      return {\n        key: 'Access-Control-Expose-Headers',\n        value: headers\n      };\n    }\n    return null;\n  }\n\n  function configureMaxAge(options) {\n    var maxAge = options.maxAge && options.maxAge.toString();\n    if (maxAge && maxAge.length) {\n      return {\n        key: 'Access-Control-Max-Age',\n        value: maxAge\n      };\n    }\n    return null;\n  }\n\n  function applyHeaders(headers, res) {\n    for (var i = 0, n = headers.length; i < n; i++) {\n      var header = headers[i];\n      if (header) {\n        if (Array.isArray(header)) {\n          applyHeaders(header, res);\n        } else if (header.key === 'Vary' && header.value) {\n          vary(res, header.value);\n        } else if (header.value) {\n          res.setHeader(header.key, header.value);\n        }\n      }\n    }\n  }\n\n  function cors(options, req, res, next) {\n    var headers = [],\n      method = req.method && req.method.toUpperCase && req.method.toUpperCase();\n\n    if (method === 'OPTIONS') {\n      // preflight\n      headers.push(configureOrigin(options, req));\n      headers.push(configureCredentials(options, req));\n      headers.push(configureMethods(options, req));\n      headers.push(configureAllowedHeaders(options, req));\n      headers.push(configureMaxAge(options, req));\n      headers.push(configureExposedHeaders(options, req));\n      applyHeaders(headers, res);\n\n      if (options.preflightContinue ) {\n        next();\n      } else {\n        // Safari (and potentially other browsers) need content-length 0,\n        //   for 204 or they just hang waiting for a body\n        res.statusCode = options.optionsSuccessStatus || defaults.optionsSuccessStatus;\n        res.setHeader('Content-Length', '0');\n        res.end();\n      }\n    } else {\n      // actual response\n      headers.push(configureOrigin(options, req));\n      headers.push(configureCredentials(options, req));\n      headers.push(configureExposedHeaders(options, req));\n      applyHeaders(headers, res);\n      next();\n    }\n  }\n\n  function middlewareWrapper(o) {\n    // if options are static (either via defaults or custom options passed in), wrap in a function\n    var optionsCallback = null;\n    if (typeof o === 'function') {\n      optionsCallback = o;\n    } else {\n      optionsCallback = function (req, cb) {\n        cb(null, o);\n      };\n    }\n\n    return function corsMiddleware(req, res, next) {\n      optionsCallback(req, function (err, options) {\n        if (err) {\n          next(err);\n        } else {\n          var corsOptions = assign({}, defaults, options);\n          var originCallback = null;\n          if (corsOptions.origin && typeof corsOptions.origin === 'function') {\n            originCallback = corsOptions.origin;\n          } else if (corsOptions.origin) {\n            originCallback = function (origin, cb) {\n              cb(null, corsOptions.origin);\n            };\n          }\n\n          if (originCallback) {\n            originCallback(req.headers.origin, function (err2, origin) {\n              if (err2 || !origin) {\n                next(err2);\n              } else {\n                corsOptions.origin = origin;\n                cors(corsOptions, req, res, next);\n              }\n            });\n          } else {\n            next();\n          }\n        }\n      });\n    };\n  }\n\n  // can pass either an options hash, an options delegate, or nothing\n  module.exports = middlewareWrapper;\n\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/cors/lib/index.js\n// module id = 13\n// module chunks = 0","module.exports = require(\"object-assign\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"object-assign\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"vary\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vary\"\n// module id = 15\n// module chunks = 0"],"sourceRoot":""}